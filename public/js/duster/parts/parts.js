(function(){dust.register("parts",body_0);function body_0(chk,ctx){return chk.write("<div class=\"panel-group\" id=\"vehicleTypeContent\"><div class=\"panel panel-default\"><div class=\"panel-heading\"><div class=\"btn-group\"><a data-toggle=\"collapse\" class=\"btn btn-default\" data-toggle=\"collapse\" data-parent=\"#vehicleTypeContent\" href=\"#vehicleTypeCondition\">查询条件</a><a class=\"btn btn-default\" id=\"addPartsBtn\" href=\"#\" data-toggle=\"modal\" data-target=\"#addPartsModel\">新增配件信息</a></div></div><div id=\"vehicleTypeCondition\" class=\"panel-collapse collapse\"><div class=\"panel-body\"><form class=\"form-inline\" role=\"form\" id=\"queryPartsForm\" method=\"get\"><div class=\"form-group\"><label class=\"sr-only\" for=\"qname\">型号</label><input type=\"text\" class=\"form-control\" value=\"").reference(ctx.getPath(false,["condition","key"]),ctx,"h").write("\" name=\"condition[key]\" id=\"qkey\" placeholder=\"型号\"></div><button type=\"button\" id=\"submitQueryPartsBtn\" class=\"btn btn-default\">查询</button></form></div></div></div><div class=\"panel panel-primary\"><div class=\"panel-heading\">配件列表</div><div class=\"panel-body\" id=\"partsListDiv\"></div><div class=\"panel-footer\"><ul class=\"pagination\"></ul></div></div></div><input type=\"hidden\" id=\"_currentPage\" value=\"1\"><div class=\"modal fade\" id=\"addPartsModel\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\"><div class=\"modal-dialog modal-middle\"><div class=\"modal-content\"><div class=\"modal-header\"><button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button><h4 class=\"modal-title\" id=\"myModalLabel\">录入配件信息</h4></div><div class=\"modal-body\" id=\"partsFormDiv\"></div><div class=\"modal-footer\"><button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button><button type=\"button\" id=\"submitPartsBtn\" class=\"btn btn-primary\">提交</button></div></div></div></div><script type=\"text/javascript\">function renderPartsList(data) {dust.render('partsList', data, function(err, out) {$(\"#partsListDiv\").html(out);$(\"div#oprDiv [data-toggle='tooltip']\").tooltip();$(\"a[name='removePartsBtn']\").click(function(event) {var key = $(this).attr('value');var brand = $(\"#selectedBrand\").val();var page = $(\"#_currentPage\").val();$.get(\"/baseData/parts/brand/\" + brand + \"/key/\" + key + \"/remove?page=\" + page + \"&condition[key]=").reference(ctx.getPath(false,["condition","key"]),ctx,"h").write("&\" + new Date().getTime(), function(data, status) {if (status === 'success') {if (data.err) {var some_html = '<br><div class=\"alert alert-warning fade in\">';some_html += '<label>错误：</label>' + data.err;some_html += '</div>';var box = bootbox.alert(some_html);} else {var some_html = '<br><div class=\"alert alert-success fade in\">';some_html += '<label>删除成功</label>';some_html += '</div>';var box = bootbox.alert(some_html);box.on('hidden.bs.modal', function(e) {renderPartsList(data);});}} else {var some_html = '<br><div class=\"alert alert-danger fade in\">';some_html += '<label>调用后台出错：' + xhr.statusText + '</label>';some_html += '</div>';bootbox.alert(some_html);}});});  });     }var options = {currentPage: ").reference(ctx.get("page"),ctx,"h").write(",bootstrapMajorVersion: 3,totalPages: ").reference(ctx.get("pageCount"),ctx,"h").write(",useBootstrapTooltip: true,onPageClicked: function(e, originalEvent, type, page) {var brand = $(\"#selectedBrand\").val();$(\"#_currentPage\").val(page);$.get(\"/baseData/parts/brand/\" + brand + \"/page/\" + page +\"?condition[key]=").reference(ctx.getPath(false,["condition","key"]),ctx,"h").write("&\" + new Date().getTime(), function(data, status) {if (status === 'success') {renderPartsList(data);} else {var some_html = '<br><div class=\"alert alert-danger fade in\">';some_html += '<label>调用后台出错：' + xhr.statusText + '</label>';some_html += '</div>';bootbox.alert(some_html);}});        },numberOfPages: 10,tooltipTitles: function (type, page, current) {switch (type) {case \"first\":return \"第一页\";case \"prev\":return \"前一页\";case \"next\":return \"下一页\";case \"last\":return \"最后页\";case \"page\":return \"到第\" + page + \"页\";}},itemContainerClass: function(type, page, current) {return (page === current) ? \"disabled\" : \"pointer-cursor\";},itemTexts: function(type, page, current) {switch (type) {case \"first\":return \"<<\";case \"prev\":return \"<\";case \"next\":return \">\";case \"last\":return \">>\";case \"page\":return page;}}};$('.pagination').bootstrapPaginator(options);</script>");}return body_0;})();